{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/jesusalonsogalazreyes/Desktop/encuestas-app/frontend/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst API = \"http://localhost:4000/api/polls\";\n\nexport const fetchPolls = () => axios.get(API).then(res => res.data);\nexport const createPoll = (question: string, options: string[]) =>\n  axios.post(API, { question, options }).then(res => res.data);\nexport const getPoll = (id: string) =>\n  axios.get(`${API}/${id}`).then(res => res.data);\nexport const voteOption = (optionId: string) =>\n  axios.post(`${API}/vote/${optionId}`).then(res => res.data);\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,MAAM;AAEL,MAAM,aAAa,IAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AAC5D,MAAM,aAAa,CAAC,UAAkB,UAC3C,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,KAAK;QAAE;QAAU;IAAQ,GAAG,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACtD,MAAM,UAAU,CAAC,KACtB,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACzC,MAAM,aAAa,CAAC,WACzB,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,IAAI,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI","debugId":null}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/jesusalonsogalazreyes/Desktop/encuestas-app/frontend/src/app/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { getPoll, voteOption } from \"@/lib/api\";\n\nexport default function PollPage() {\n  const { id } = useParams();\n  const router = useRouter();\n  const [poll, setPoll] = useState<any>(null);\n  const [voted, setVoted] = useState(false);\n\n  const loadPoll = async () => {\n    const data = await getPoll(id as string);\n    setPoll(data);\n  };\n\n  useEffect(() => {\n    if (id) loadPoll();\n  }, [id]);\n\n  const handleVote = async (optionId: string) => {\n    await voteOption(optionId);\n    setVoted(true);\n    loadPoll();\n  };\n\n  if (!poll) return <p className=\"p-4\">Cargando...</p>;\n\n  return (\n    <main className=\"max-w-xl mx-auto p-4 space-y-4\">\n      <button\n        onClick={() => router.push('/')}\n        className=\"text-blue-600 hover:underline\"\n      >\n        ‚Üê Regresar\n      </button>\n\n      <h1 className=\"text-2xl font-bold\">{poll.question}</h1>\n      <ul className=\"space-y-2\">\n        {poll.options.map((opt: any) => (\n          <li key={opt.id} className=\"flex items-center justify-between border px-4 py-2 rounded\">\n            <span>{opt.text}</span>\n            <div className=\"flex gap-3 items-center\">\n              <span className=\"text-sm text-gray-600\">{opt.votes} votos</span>\n              <button\n                disabled={voted}\n                onClick={() => handleVote(opt.id)}\n                className={`px-3 py-1 rounded ${\n                  voted ? \"bg-gray-300 cursor-not-allowed\" : \"bg-green-600 text-white hover:bg-green-700\"\n                }`}\n              >\n                Votar\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IACtC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,WAAW;QACf,MAAM,OAAO,MAAM,CAAA,GAAA,iHAAA,CAAA,UAAO,AAAD,EAAE;QAC3B,QAAQ;IACV;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,IAAI;IACV,GAAG;QAAC;KAAG;IAEP,MAAM,aAAa,OAAO;QACxB,MAAM,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE;QACjB,SAAS;QACT;IACF;IAEA,IAAI,CAAC,MAAM,qBAAO,8OAAC;QAAE,WAAU;kBAAM;;;;;;IAErC,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBACC,SAAS,IAAM,OAAO,IAAI,CAAC;gBAC3B,WAAU;0BACX;;;;;;0BAID,8OAAC;gBAAG,WAAU;0BAAsB,KAAK,QAAQ;;;;;;0BACjD,8OAAC;gBAAG,WAAU;0BACX,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,oBACjB,8OAAC;wBAAgB,WAAU;;0CACzB,8OAAC;0CAAM,IAAI,IAAI;;;;;;0CACf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAyB,IAAI,KAAK;4CAAC;;;;;;;kDACnD,8OAAC;wCACC,UAAU;wCACV,SAAS,IAAM,WAAW,IAAI,EAAE;wCAChC,WAAW,CAAC,kBAAkB,EAC5B,QAAQ,mCAAmC,8CAC3C;kDACH;;;;;;;;;;;;;uBAVI,IAAI,EAAE;;;;;;;;;;;;;;;;AAmBzB","debugId":null}}]
}